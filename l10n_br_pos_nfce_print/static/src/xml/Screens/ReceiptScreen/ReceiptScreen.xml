<?xml version="1.0" encoding="UTF-8" ?>
<templates id="template" xml:space="preserve">
    <t t-inherit="point_of_sale.ReceiptScreen" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('pos-receipt-container')]" position="replace">
            <t t-if="checkNFCeType()">
                <div class="pos-receipt-container-nfce">
                    <NFCeOrderReceipt order="currentOrder" t-ref="nfce-order-receipt" />
                </div>
            </t>
            <t t-else="">
                <div class="pos-receipt-container">
                    <OrderReceipt order="currentOrder" t-ref="order-receipt" />
                </div>
            </t>
        </xpath>
        <xpath expr="//div[hasclass('buttons')]" position="replace">
            <t t-if="checkNFCeType()">     
                <div class="button print" onclick="criaPDF()">
                    <button style="width:476px; height:53px; background-color: #e6e6e6;"><i class="fa fa-print"></i> Imprimir NFCe</button>
                </div>
            </t>
            <t t-else="">
                <div class="button print" t-on-click="printReceipt">
                    <button style="width:576px; height:53px; background-color: #e6e6e6;"><i class="fa fa-print"></i> Print Receipt</button>
                </div>
            </t>
            <script>
                function criaPDF(){
                    const conteudo = document.getElementById('nfce_fatura').innerHTML;

                    const win = window.open('', '', 'height=800,width=700');
                    
                    win.document.write(conteudo);
                    
                    win.print()
                }
            </script>
        </xpath>
    </t>
</templates>
