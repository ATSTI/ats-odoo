<?xml version="1.0"?>
<odoo>
    <record id="pos_fechar_caixa_form" model="ir.ui.view">
        <field name="name">pos.fechar.caixa.form</field>
        <field name="model">fechar.caixa</field>
        <field name="arch" type="xml">
            <form string="Fechamento de caixa">
                <header>
                    <button name="action_return_draft" string="Voltar ao rascunho" type="object" class="btn-primary"  attrs="{'invisible': [('state', '!=', 'done')]}"/>
                    <button name="action_done" string="Finalizar" type="object" class="btn-primary"  attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                    <button name="action_aproved" string="Aprovar" type="object" class="btn-primary"  attrs="{'invisible': [('state', '!=', 'done')]}"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,done,aproved"/>
                </header>
                <sheet>
                    <group>
                        <group string="Responsável">
                            <field name="cx" />
                            <field name="response" />
                            <field name="analise" />
                        </group>
                        <group string="Sessão/Caixa">                            
                            <field name="data" />
                            <field name="sessao" />
                            <field name="name" />
                        </group>
                        <group string="Movimento">
                            <field name="env_banco" />
                            <field name="env_caixa" />
                            <field name="env_troco" />
                        </group>    
                        <group string="Sangria">
                            <field name="udd" />
                            <field name="motivo" />
                            <field name="sangria" />
                            <field name="num_sangria" />
                        </group> 
                        <group string="Saldo">
                            <field name="saldo_inicial" />
                            <field name="saldo_final" />
                            <field name="valor_falta" />
                            <field name="valor_sobra" />
                            <field name="obs" />
                        </group> 
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <record id="pos_fechar_caixa_tree" model="ir.ui.view">
        <field name="name">pos.fechar.caixa.tree</field>
        <field name="model">fechar.caixa</field>
        <field name="arch" type="xml">
            <tree string="Fechamento de caixa" default_order="data desc">
                <field name="data" />
                <field name="cx" />
                <field name="sessao" />
                <field name="sangria" />
                <field name="num_sangria" />
                <field name="valor_falta" />
                <field name="valor_sobra" />
                <field name="udd" />
                <field name="env_banco" />
                <field name="env_caixa" />
                <field name="env_troco" />
                <field name="state" />
            </tree>
        </field>
    </record>

    <record id="action_pos_fechamento_caixa_view" model="ir.actions.act_window">
        <field name="name">Fechar Caixa</field>
        <field name="res_model">fechar.caixa</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem
        id="menu_fechar_caixa"
        name="Resumo Fechamento Caixa"
        action="action_pos_fechamento_caixa_view"
        parent="point_of_sale.menu_point_of_sale"
        sequence="99"/>

</odoo>