<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_documento_asman">
        <t t-call="web.html_container">
            <t t-set="docs" t-value="docs.with_context({'lang':docs.partner_id.lang})"/>
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <div class="oe_structure"/>
                        <t t-call="report_cabecalho.report_cabecalho_id" />
                        <br/>
                        <br/>
                        <p style="font-size:25px ; margin:1px"> Pedido Nº <span t-field="o.name"/></p>
                        <br/>
                        <table style="border: 0px solid black; border-collapse: collapse; height: 30px; width: 40%; font-size: 14px ; float: left;">
                            <tr>
                                <td>
                                    <p><b>Data do pedido:</b><span/><span t-field="o.date_order"/></p>
                                    <p><b>Condições de pagamento:</b><span t-field="o.payment_term_id"/></p>
                                    <p><b>Data de entrega após confirmação do pedido _______ DIAS</b></p>
                                    <p><b>Vendedor:</b><span t-field="o.user_id"/></p>
                                </td>
                            </tr>   
                        </table>
                        <table style="border: 0px solid black; border-collapse: collapse; height: 30px; width: 30% ; font-size: 13px ;  float: right; text-align:right;">
                            <tr>
                                <td>
                                    <p><span t-field="o.partner_id.street_name"/><span>,</span><span t-field="o.partner_id.street_number"/><span/><span t-field="o.partner_id.street2"/></p>
                                    <p><span t-field="o.partner_id.district"/></p>
                                    <p><span t-field="o.partner_id.zip"/><span>--</span><span t-field="o.partner_id.state_id.id"/></p>
                                    <p><span t-field="o.partner_id.country_id"/></p>
                                    <p><span t-field="o.partner_id.cnpj_cpf"/></p>
                                </td>
                            </tr>  
                        </table>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <span style="font-size: 15px" t-field="o.date_order"/><span style="margin: 550px ; font-size: 15px" t-field="o.user_id"/>
                        <table style="border: 1px solid black; border-collapse: collapse; width: 100%">
                            <tr>
                                <td style="border: 1px solid black; width:30%; height: 35px; text-align: left; font-size: 17px">
                                    <b>Descrição</b>
                                </td>
                                <td style="border: 1px solid black; width:20% ; height: 35px; text-align: right; font-size: 17px">
                                    <b>Quantidade</b>
                                </td>
                                <td style="border: 1px solid black; width:20% ; height: 35px; text-align: right; font-size: 17px">
                                    <b>Preço Unitário</b>
                                </td>
                                <td style="border: 1px solid black; width:15% ; height: 35px; text-align: right; font-size: 17px">
                                    <b>Impostos</b>
                                </td>
                                <td style="border: 1px solid black; width:15% ; height: 35px; text-align: right; font-size: 17px">
                                    <b>Montante</b>
                                </td>
                            </tr>
                            <t t-foreach="o.order_line" t-as="line">
                                <tr>
                                    <td style="border: 1px solid black; height: 40px; text-align:left ; font-size: 15px"><span t-field="line.name" /></td>  
                                    <td style="border: 1px solid black; height: 40px; text-align:right ; font-size: 15px"><span t-field="line.product_uom_qty" /></td>
                                    <td style="border: 1px solid black; height: 40px; text-align:right ; font-size: 15px"><span t-field="line.price_unit" /></td>
                                    <td name="td_taxes" class="text-right" style="border: 1px solid black; height: 40px; text-align:right ; font-size: 15px">
                                        <span t-esc="', '.join(map(lambda x: (x.description or x.name), line.tax_id))"/>
                                    </td>                                    
                                    <td style="border: 1px solid black; height: 40px; text-align:right ; font-size: 15px"><span t-field="line.price_subtotal" /></td>
                                </tr>
                            </t>
                        </table>
                        <br/>
                        <table style="border: 1px solid black; border-collapse: collapse; height: 30px; width: 51%; float: right;">
                            <tr>
                                <td style="border: 1px solid black ; height:35px ;  width: 60%; text-align: left; font-size: 17px">
                                    <p>Total sem impostos</p>
                                </td>
                                <td style="border: 1px solid black ; height:35px; text-align: right; background-color: #e6e6e6; font-size: 17px">
                                    <span t-field="o.amount_untaxed" />
                                </td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid black ; height:35px ;  width: 60%; text-align: left; font-size: 17px">
                                    <p>Impostos</p>
                                </td>
                                <td style="border: 1px solid black ; height:35px; text-align: right; background-color: #e6e6e6; font-size: 17px">
                                    <span t-field="o.amount_tax" />
                                </td>
                            </tr>
                        </table>
                        <table style="border: 0px solid black; border-collapse: collapse; width: 51%; float: right; background-color: #646665 ; color: #FFFFFF">
                            <tr>
                                <td style="border: 0px solid black ;  height: 40px; width: 60%; text-align: left; font-size: 19px">
                                    <p>Total</p>
                                </td>
                                <td style="border: 0px solid black ; height: 40px; text-align: right; font-size: 19px">
                                    <span t-field="o.amount_total" />
                                </td>
                            </tr>
                        </table>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <BR/>
                        <span t-field="o.note" />      
                </div>
            </t>
        </t>
    </template>
</odoo>
